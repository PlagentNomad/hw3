﻿﻿# 数字图像处理##PROJECT3：直方图图像增强_自动化少61_ _任羽心_ _2140506004_###摘要    本文利用MATLAB软件对给出的源图像进行处理，完成了直方图绘制、    直方图分析、直方图匹配、图像增强和图像分割的一系列工作。###实验内容与结果####1.把附件图像的直方图画出；    利用MATLAB中的imhist()函数即可画出图像的直方图。    为了得到同一幅图像经过不同处理后得到的不同直方图，需要首先对图像进行灰度处理。    代码示例如下：> [image,map] = imread('image.bmp');>> img = ind2gray(image,map);>> imhist(img);saveas(gcf,'img.bmp');处理结果如下：citywall![cw.bmp](https://i.loli.net/2019/03/19/5c90700279d6e.bmp)citywall1![cw1.bmp](https://i.loli.net/2019/03/19/5c9070037f6d0.bmp)citywall2![cw2.bmp](https://i.loli.net/2019/03/19/5c90700274fc1.bmp)elain![el.bmp](https://i.loli.net/2019/03/19/5c907003eba3b.bmp)elain1![el1.bmp](https://i.loli.net/2019/03/19/5c9070032c1d5.bmp)elain2![el2.bmp](https://i.loli.net/2019/03/19/5c9070036d46a.bmp)elain3![el3.bmp](https://i.loli.net/2019/03/19/5c9070034c1ec.bmp)lena![le.bmp](https://i.loli.net/2019/03/19/5c90700709928.bmp)lena1![le1.bmp](https://i.loli.net/2019/03/19/5c907003dd0fa.bmp)lena2![le2.bmp](https://i.loli.net/2019/03/19/5c90700304172.bmp)lena4![le4.bmp](https://i.loli.net/2019/03/19/5c907155d2471.bmp)woman![wo.bmp](https://i.loli.net/2019/03/19/5c907155a6111.bmp)woman1![wo1.bmp](https://i.loli.net/2019/03/19/5c90715590d15.bmp)woman2![wo2.bmp](https://i.loli.net/2019/03/19/5c907155e5bbc.bmp) ########2.把所有图像进行直方图均衡；输出均衡后的图像和源图像进行比对；分析改善内容；    利用MATLAB中的histeq()函数，对源图像进行直方图均衡处理。    代码示例如下：> img-equa = histeq(img);>> subplot(1,2,1); imshow(img); title('源图像'); subplot(1,2,2); imshow(img-equa); title('均衡后'); saveas(gcf,'img-cont.bmp');    处理结果如下：citywall![city_cont.bmp](https://i.loli.net/2019/03/19/5c9073ad7f22d.bmp)citywall1![city1_cont.bmp](https://i.loli.net/2019/03/19/5c9073adddeb5.bmp)citywall2![city2_cont.bmp](https://i.loli.net/2019/03/19/5c9073af45b5c.bmp)elain![elain_cont.bmp](https://i.loli.net/2019/03/19/5c9073b04aa48.bmp)elain1![elain1_cont.bmp](https://i.loli.net/2019/03/19/5c9073b08f212.bmp)elain2![elain2_cont.bmp](https://i.loli.net/2019/03/19/5c9073b104b97.bmp)elain3![elain3_cont.bmp](https://i.loli.net/2019/03/19/5c9073b0c7916.bmp)lena![lena_cont.bmp](https://i.loli.net/2019/03/19/5c9073b151cf4.bmp)lena1![lena1_cont.bmp](https://i.loli.net/2019/03/19/5c9073b16221e.bmp)lena2![lena2_cont.bmp](https://i.loli.net/2019/03/19/5c9073b20b2e9.bmp)lena4![lena4_cont.bmp](https://i.loli.net/2019/03/19/5c9074c9832c1.bmp)women![woman_cont.bmp](https://i.loli.net/2019/03/19/5c9074c9b80e2.bmp)woman1![woman1_cont.bmp](https://i.loli.net/2019/03/19/5c9074c99c1cc.bmp)women2![woman2_cont.bmp](https://i.loli.net/2019/03/19/5c9074c9c0148.bmp)    分析：直方图均衡对像素灰度分布较窄，即图片整体偏亮或偏暗的图像处理效果较好；    对像素灰度分布较广的图片，均衡之后，噪声也被增强。########3.进一步把图像按照对源图像直方图的观察，各自自行指定不同源图像的直方图，进行直方图匹配，进行图像增强；    利用MATLAB中的histeq(A,B)函数,将图像A按照B直方图进行匹配。    代码示例如下：> img1-resu = histeq(img1,imhist(img));>> imhist(img1-resu);saveas(gcf,'img1-resu.bmp');>> subplot(2,3,1); imshow(img);title('匹配图像'); subplot(2,3,4);imshow(imread('img.bmp')); title('匹配图像直方图'); subplot(2,3,3); imshow(histeq(img1,imhist(img))); title('匹配结果'); subplot(2,3,2); imshow(img1); title('源图像'); subplot(2,3,5); imshow(imread('img1.bmp')); title('源图像直方图'); subplot(2,3,6); imshow(imread('img1-resu.bmp')); title('匹配结果直方图'); saveas(gcf,'img1-resu.bmp');    处理结果如下：city1![city1_resu.bmp](https://i.loli.net/2019/03/19/5c9077eb372f9.bmp)city2![city2_resu.bmp](https://i.loli.net/2019/03/19/5c9077eb78113.bmp)elain1![el1_resu.bmp](https://i.loli.net/2019/03/19/5c9077edc2812.bmp)elain2![el2_resu.bmp](https://i.loli.net/2019/03/19/5c9077ecdc208.bmp)elain3![el3_resu.bmp](https://i.loli.net/2019/03/19/5c9077f16409f.bmp)lena1![le1_resu.bmp](https://i.loli.net/2019/03/19/5c9077eec44b4.bmp)lena2![le2_resu.bmp](https://i.loli.net/2019/03/19/5c9077ed84f21.bmp)lena4![le4_resu.bmp](https://i.loli.net/2019/03/19/5c9077eec6140.bmp)woman1![wo1_resu.bmp](https://i.loli.net/2019/03/19/5c9077ed51581.bmp)woman2![wo2_resu.bmp](https://i.loli.net/2019/03/19/5c9077ee89e5c.bmp)    分析：直方图匹配对部分图片的改善效果明显；部分图片无明显改善。########4.对elain和lena图像进行7*7的局部直方图增强；    利用MATLAB的adapthisteq(A,'NumTiles',[N N])函数，对图像进行局部增强，采取邻域大小[7 7]；    代码示例如下：> img-rein = adapthisteq(img,'NumTiles',[7 7]);>> subplot(1,2,1); imshow(img); title('源图像'); subplot(1,2,2); imshow(img-rein); title('增强后'); saveas(gcf,'img-rein.bmp');    处理结果如下：lena![le_rein.bmp](https://i.loli.net/2019/03/19/5c907a206b818.bmp)elain![el_rein.bmp](https://i.loli.net/2019/03/19/5c907a207249f.bmp)    分析：对图像进行局部直方图增强后，图像边缘更加明显锐利，对比度增强。########5.利用直方图对图像elain和woman进行分割；    首先利用MATLAB中的graythresh()函数对图像取阈值，再利用im2bw()函数进行二值化处理。    代码示例如下：> thre-img = graythresh(img);>> bi-img = im2bw(img, thre-img);>> subplot(1,2,1), imshow(img); title('源图像'); subplot(1,2,2), imshow(bi-img); title('分割后'); saveas(gcf,'img-segm.bmp');    处理结果如下：elain![el_segm.bmp](https://i.loli.net/2019/03/19/5c907c4323758.bmp)woman![wo_segm.bmp](https://i.loli.net/2019/03/19/5c907c4325119.bmp)    分析：相当于二值化，分割效果不明显。